<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
            <body>
                <title>Задача № 5.2</title>
                <script>

                    "use strict"

                    // Приветствие 

                    alert("Данная программа сложит все члены последовательности по заданной формуле\
 не меньше заднного числа Е!\nЗначения меньше нуля и равные нулю не обрабатываются!");

                    // Ввод значения и объявление вспомогательных переменных

                    let E = +prompt("Введите числовое значение для E");
                    let k = 1;
                    let i = 1;
                    let sum = 0;
                    let result = 0;
                    let step = 0;


                    // Проверка ввода значения на корректность

                 
                    // Вычисление значения через цикл

                    while (i > E && E != 0 && E > 0) {
                    i = (4 * k) / (Math.pow(k, 2) + (8 * Math.sqrt(k)));
                    sum += i;
                    k++
                    result = sum - i;
                    step = k - 1;
                };

                // Вывод результата или перезапуск в случае некорректности значения
                
                     if (E < 0 || E == 0 || Number.isNaN(E) == true) {
                        alert("Введено некорректное значение!");
                        let reload = confirm("Перезапустить программу?") 
                            if (reload !== true) {
                                location.close();
                            } else {
                                location.reload();  
                            }
                        } else if (result == 0) {
                            alert("Нет значений членов больше - " + E + ".\nСумма всех членов последовательности равно 0!");
                            let help = confirm("Хотите подсказку?");
                            if (help == true) {
                                alert("Чтобы узнать сумму всех членов последовательности, значение E должно быть больше нуля, но меньше 0.444\
 Перезапустите программу, чтобы попробовать снова!");
                            }
                        } else {
                        alert("Сумма всех членов последовательности - " + result.toFixed(3) + "\nКоличество выполненных циклов - " + step);
                       }

                </script>
            </body>
    </head>
</html>
